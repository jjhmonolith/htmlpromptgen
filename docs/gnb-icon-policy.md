# GNB ì•„ì´ì½˜ ì •ì±… ë° êµ¬í˜„ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

í”„ë¡¬í”„íŠ¸ ìƒì„±ê¸°ì˜ GNB(Global Navigation Bar) ì¤‘ì•™ì— ìœ„ì¹˜í•œ ìŠ¤í… ì•„ì´ì½˜ë“¤ì˜ ì‹œê°ì  ìƒíƒœ, ìƒí˜¸ì‘ìš© ê·œì¹™ ë° êµ¬í˜„ ë°©ë²•ì„ ì •ì˜í•©ë‹ˆë‹¤.

## ğŸ¯ í•µì‹¬ ì •ì±…

### 1. ì•„ì´ì½˜ ìƒ‰ìƒ ì •ì±…
- âœ… **ì™„ë£Œëœ ìŠ¤í…**: íŒŒë€ìƒ‰ ì•„ì´ì½˜ (`fill-blue-500`, `text-blue-500`)
- âœ… **í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ìŠ¤í…**: íŒŒë€ìƒ‰ ì•„ì´ì½˜ (`fill-blue-500`, `text-blue-500`)
- âŒ **ë¯¸ì™„ë£Œ ìŠ¤í…**: íšŒìƒ‰ ì•„ì´ì½˜ (`fill-gray-400`, `text-gray-400`)

### 2. ì•„ì´ì½˜ í¬ê¸° ì •ì±…
- ğŸ” **í˜„ì¬ ìŠ¤í…**: 1.25ë°° í™•ëŒ€ (`scale-125`)
- ğŸ“ **ê¸°íƒ€ ìŠ¤í…**: ê¸°ë³¸ í¬ê¸° (`scale-100`)
- âœ¨ **ë“œë¡­ ì„€ë„ìš°**: í˜„ì¬ ìŠ¤í…ì—ë§Œ ì ìš© (`filter drop-shadow-lg`)

### 3. í´ë¦­ ê°€ëŠ¥ì„± ì •ì±…
- âœ… **ì™„ë£Œëœ ìŠ¤í…**: í´ë¦­ ê°€ëŠ¥ (í˜„ì¬ ìŠ¤í… ì œì™¸)
- âŒ **ë¯¸ì™„ë£Œ ìŠ¤í…**: í´ë¦­ ë¶ˆê°€
- âŒ **í˜„ì¬ ìŠ¤í…**: í´ë¦­ ë¶ˆê°€ (ì´ë¯¸ í•´ë‹¹ ìœ„ì¹˜ì— ìˆìŒ)

### 4. ìƒì„± ì¤‘ ì• ë‹ˆë©”ì´ì…˜ ì •ì±…
- ğŸ”„ **ìƒì„± ì¤‘**: íŒŒë€ìƒ‰-íšŒìƒ‰ ë²ˆê°ˆì•„ê°€ëŠ” ì• ë‹ˆë©”ì´ì…˜ (`animate-generating-fill`)
- ğŸ’« **ë°°ê²½ íš¨ê³¼**: í„ìŠ¤ ë§ íš¨ê³¼ (`animate-ping`)
- â±ï¸ **ì• ë‹ˆë©”ì´ì…˜ ì£¼ê¸°**: 2ì´ˆ (`2s ease-in-out infinite`)

### 5. ì—°ê²°ì„  ì •ì±…
- ğŸ“ **ìœ„ì¹˜**: ê° ì•„ì´ì½˜ì˜ **ì¢Œì¸¡**ì— ë°°ì¹˜ (ì²« ë²ˆì§¸ ì•„ì´ì½˜ ì œì™¸)
- ğŸ¨ **ìƒ‰ìƒ**: í•´ë‹¹ ì•„ì´ì½˜ê³¼ ë™ì¼í•œ ìƒíƒœ
  - ì™„ë£Œ/í˜„ì¬ ìŠ¤í…: íŒŒë€ìƒ‰ ì—°ê²°ì„  (`bg-blue-500`)
  - ë¯¸ì™„ë£Œ ìŠ¤í…: íšŒìƒ‰ ì—°ê²°ì„  (`bg-gray-300`)
- ğŸ“ **í¬ê¸°**: ë„ˆë¹„ 8 (`w-8`), ë†’ì´ 0.5 (`h-0.5`)

### 6. ì•ì„  ë‹¨ê³„ ìˆ˜ì • ì‹œ ìë™ ì´ˆê¸°í™” ì •ì±…
- ğŸ”„ **Step1 ìˆ˜ì •**: Step2~5 ìë™ ì´ˆê¸°í™” â†’ íšŒìƒ‰ ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½
- ğŸ”„ **Step2 ìˆ˜ì •**: Step3~5 ìë™ ì´ˆê¸°í™” â†’ íšŒìƒ‰ ì•„ì´ì½˜ìœ¼ë¡œ ë³€ê²½
- ğŸ“Š **ë³€ê²½ ê°ì§€**: JSON í•´ì‹œ ê¸°ë°˜ ì‹¤ì œ ë°ì´í„° ë³€ê²½ ì‹œì—ë§Œ ì´ˆê¸°í™”

## ğŸ—ï¸ ê¸°ìˆ  êµ¬í˜„

### ì•„ì´ì½˜ ìƒíƒœ ê³„ì‚° ë¡œì§

```typescript
const isActive = step.num === currentStep;
const isCompleted = step.isCompleted;
const canAccess = isCompleted && !isActive;

// ìƒ‰ìƒ ì •ì±…
const iconColor = isActive && isGenerating ? '' : 
  (isCompleted || isActive ? 'text-blue-500' : 'text-gray-400');
const fillColor = isActive && isGenerating ? '' : 
  (isCompleted || isActive ? 'fill-blue-500' : 'fill-gray-400');

// í¬ê¸° ì •ì±…
const scale = isActive ? 'scale-125' : 'scale-100';
```

### ì—°ê²°ì„  ë Œë”ë§ ë¡œì§

```typescript
{/* ê° ì•„ì´ì½˜ ì¢Œì¸¡ì— ì—°ê²°ì„  (ì²« ë²ˆì§¸ ì•„ì´ì½˜ ì œì™¸) */}
{index > 0 && (
  <div className={`
    w-8 h-0.5 transition-all duration-500
    ${(isCompleted || isActive) ? 'bg-blue-500' : 'bg-gray-300'}
    ${isActive && isGenerating ? 'animate-pulse' : ''}
  `}></div>
)}
```

### ë°ì´í„° ë³€ê²½ ê°ì§€ ë¡œì§

```typescript
// WorkflowContainer.tsx
const handleStep1DataChange = (partialData: any) => {
  const currentStep1Hash = JSON.stringify(workflowData.step1);
  const newStep1Hash = JSON.stringify(partialData);
  
  let updatedWorkflowData;
  
  // ì‹¤ì œ ë°ì´í„° ë³€ê²½ ì‹œì—ë§Œ ë’· ë‹¨ê³„ ì´ˆê¸°í™”
  if (currentStep1Hash !== newStep1Hash && workflowData.step1) {
    const resetData = resetLaterSteps(1);
    updatedWorkflowData = { ...resetData, step1: partialData };
  } else {
    updatedWorkflowData = { ...workflowData, step1: partialData };
  }
  
  setWorkflowData(updatedWorkflowData);
};
```

### ìƒì„± ì¤‘ ì• ë‹ˆë©”ì´ì…˜ ì„¤ì •

```javascript
// tailwind.config.js
keyframes: {
  'generating-fill': {
    '0%, 100%': { fill: 'rgb(59 130 246)' }, // blue-500
    '50%': { fill: 'rgb(156 163 175)' }, // gray-400
  }
},
animation: {
  'generating-fill': 'generating-fill 2s ease-in-out infinite',
}
```

## ğŸ­ ìƒíƒœë³„ ì‹œê°ì  ì˜ˆì‹œ

### ì‹œë‚˜ë¦¬ì˜¤ 1: ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘
```
[íŒŒë€ìƒ‰-1] ã…¡ [íšŒìƒ‰-2] ã…¡ [íšŒìƒ‰-3] ã…¡ [íšŒìƒ‰-4] ã…¡ [íšŒìƒ‰-5]
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: Step2 ì™„ë£Œ í›„
```
[íŒŒë€ìƒ‰-1] ã…¡ [íŒŒë€ìƒ‰(í™•ëŒ€)-2] ã…¡ [íšŒìƒ‰-3] ã…¡ [íšŒìƒ‰-4] ã…¡ [íšŒìƒ‰-5]
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: Step2 ìƒì„± ì¤‘
```
[íŒŒë€ìƒ‰-1] ã…¡ [ì• ë‹ˆë©”ì´ì…˜(í™•ëŒ€)-2] ã…¡ [íšŒìƒ‰-3] ã…¡ [íšŒìƒ‰-4] ã…¡ [íšŒìƒ‰-5]
```

### ì‹œë‚˜ë¦¬ì˜¤ 4: Step1 ìˆ˜ì • ì‹œ (Step2 ì´ˆê¸°í™”)
```
[íŒŒë€ìƒ‰(í™•ëŒ€)-1] ã…¡ [íšŒìƒ‰-2] ã…¡ [íšŒìƒ‰-3] ã…¡ [íšŒìƒ‰-4] ã…¡ [íšŒìƒ‰-5]
```

## ğŸ”§ ìƒˆë¡œìš´ Step ì¶”ê°€ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

ìƒˆë¡œìš´ Stepì„ ì¶”ê°€í•  ë•Œ ë‹¤ìŒ ì‚¬í•­ë“¤ì„ í™•ì¸í•˜ì„¸ìš”:

### 1. Step ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] `onGeneratingChange` prop ì¶”ê°€
- [ ] ìƒì„± ì¤‘ ìƒíƒœë¥¼ ë¶€ëª¨ë¡œ ì „ë‹¬
- [ ] `onDataChange`ë¡œ ì‹¤ì‹œê°„ ë°ì´í„° ë³€ê²½ ì•Œë¦¼

### 2. WorkflowContainer ìˆ˜ì •
- [ ] `getWorkflowSteps()` í•¨ìˆ˜ì— ìƒˆ step ì¶”ê°€
- [ ] `handleStepXDataChange` í•¨ìˆ˜ êµ¬í˜„ (ë°ì´í„° ë³€ê²½ ê°ì§€ í¬í•¨)
- [ ] `handleStepXComplete` í•¨ìˆ˜ êµ¬í˜„
- [ ] `renderCurrentStep()`ì— ìƒˆ step ì¼€ì´ìŠ¤ ì¶”ê°€

### 3. GNB ì•„ì´ì½˜ ì¶”ê°€
- [ ] `GNB.tsx`ì— ìƒˆ step ì•„ì´ì½˜ SVG ì¶”ê°€
- [ ] ë™ì¼í•œ ìƒ‰ìƒ/ì• ë‹ˆë©”ì´ì…˜ ë¡œì§ ì ìš©
- [ ] `fillColor` ë³€ìˆ˜ ì ìš©

### 4. ìë™ ì´ˆê¸°í™” ë¡œì§
- [ ] ì•ì„  ë‹¨ê³„ ìˆ˜ì • ì‹œ í•´ë‹¹ stepë„ ì´ˆê¸°í™”ë˜ë„ë¡ `resetLaterSteps` í•¨ìˆ˜ ë²”ìœ„ í™•ì¸

## ğŸš¨ ì£¼ì˜ì‚¬í•­

### 1. ì• ë‹ˆë©”ì´ì…˜ ì„±ëŠ¥
- ê³¼ë„í•œ ì• ë‹ˆë©”ì´ì…˜ì€ í”¼í•˜ê³ , 2ì´ˆ ì£¼ê¸° ê¶Œì¥
- `transform` ë³´ë‹¤ëŠ” `color`, `fill` ì†ì„± ì• ë‹ˆë©”ì´ì…˜ ìš°ì„ 

### 2. ì ‘ê·¼ì„± ê³ ë ¤
- ìƒ‰ìƒë§Œìœ¼ë¡œ ìƒíƒœë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šê³  í¬ê¸°, íˆ¬ëª…ë„ë„ í•¨ê»˜ í™œìš©
- íˆ´íŒìœ¼ë¡œ ê° ë‹¨ê³„ëª… í‘œì‹œ

### 3. ì¼ê´€ì„± ìœ ì§€
- ëª¨ë“  stepì—ì„œ ë™ì¼í•œ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ì‚¬ìš© (`blue-500`, `gray-400`)
- ì—°ê²°ì„ ê³¼ ì•„ì´ì½˜ ìƒíƒœ ë™ê¸°í™” í•„ìˆ˜

## ğŸ“š ê´€ë ¨ íŒŒì¼

- `src/components/common/GNB.tsx`: ë©”ì¸ êµ¬í˜„
- `src/components/workflow/WorkflowContainer.tsx`: ìƒíƒœ ê´€ë¦¬
- `tailwind.config.js`: ì• ë‹ˆë©”ì´ì…˜ ì •ì˜
- `docs/gnb-icon-policy.md`: ì´ ë¬¸ì„œ

## ğŸ”„ ì—…ë°ì´íŠ¸ íˆìŠ¤í† ë¦¬

- **2024.09.13**: ì´ˆê¸° ì •ì±… ìˆ˜ë¦½ ë° ë¬¸ì„œ ì‘ì„±
- **2024.09.13**: ì—°ê²°ì„  ìœ„ì¹˜ ìˆ˜ì • (ìš°ì¸¡ â†’ ì¢Œì¸¡)
- **2024.09.13**: ë°ì´í„° ë³€ê²½ ê°ì§€ ë¡œì§ ê°œì„ 