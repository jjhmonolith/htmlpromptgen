# Step4-5 ν†µν•© μ„¤κ³„μ„

## π“‹ κ°μ”

**λ©ν‘**: Step4(λ””μμΈ λ…μ„Έ)μ™€ Step5(μµμΆ… ν”„λ΅¬ν”„νΈ)λ¥Ό ν†µν•©ν•μ—¬ μ‚¬μ©μ κ²½ν—μ„ κ°μ„ ν•κ³  μ‹μ¤ν…μ„ λ‹¨μν™”

**ν„μ¬ μƒνƒ**: 5λ‹¨κ³„ β†’ **λ©ν‘**: 4λ‹¨κ³„
- Step1 (κΈ°λ³Έμ •λ³΄) β†’ Step2 (λΉ„μ£Όμ–Ό) β†’ Step3 (κµμ΅μ„¤κ³„) β†’ **μƒλ΅μ΄ Step4 (μµμΆ…κ²°κ³Ό)**

---

## π” ν„μ¬ λ¶„μ„ κ²°κ³Ό

### **Step4μ μ‹¤μ  μ—­ν• **
```json
{
  "AI μƒμ„±": ["animationDescription", "interactionDescription"],
  "ν•λ“μ½”λ”©": ["layout", "componentStyles", "imagePlacements", "interactions"],
  "μ‹¤μ  μ‚¬μ©": "μ• λ‹λ©”μ΄μ…/μΈν„°λ™μ… ν…μ¤νΈ 2κ°λ§"
}
```

### **Step5μ μ‹¤μ  μ—­ν• **
```json
{
  "μ—­ν• ": "λ¨λ“  λ‹¨κ³„ λ°μ΄ν„°λ¥Ό μµμΆ… κ°λ°μ ν”„λ΅¬ν”„νΈλ΅ ν†µν•©",
  "Step4 μμ΅΄μ„±": "animationDescription, interactionDescriptionλ§ μ‚¬μ©",
  "ν•µμ‹¬ κΈ°λ¥": "compileHTMLPrompt() ν•¨μ"
}
```

### **ν•µμ‹¬ λ°κ²¬**
- **Step4μ λ³µμ΅ν• κµ¬μ΅°ν™” λ°μ΄ν„°**: μ‹¤μ λ΅ μ‚¬μ©λμ§€ μ•μ
- **Step3 νμ‹± λ΅μ§**: λΉ λ°°μ—΄λ§ μ²λ¦¬ν•λ” λ¬΄μλ―Έν• μ½”λ“
- **μ„±λ¥**: Step4 μ κ±°ν•΄λ„ AI νΈμ¶ κ°μ† μ—†μ (Step5λ” AI νΈμ¶ μ•ν•¨)
- **μ‚¬μ©μ κ²½ν—**: λ¶ν•„μ”ν• μ¤‘κ°„ λ‹¨κ³„λ΅ μΈν• ν”λ΅μ° λ³µμ΅μ„±

---

## π― ν†µν•© μ„¤κ³„

### **1. μƒλ΅μ΄ ν”λ΅μ°**
```
Before: Step1 β†’ Step2 β†’ Step3 β†’ Step4 β†’ Step5
After:  Step1 β†’ Step2 β†’ Step3 β†’ Step4(ν†µν•©λ¨)
```

### **2. μƒλ΅μ΄ Step4 (κµ¬ Step5 + Step4 μΌλ¶€)**

#### **μ…λ ¥**
- `projectData` (Step1)
- `visualIdentity` (Step2)
- `step3Result` (Step3)
- `apiKey`

#### **μ²λ¦¬ κ³Όμ •**
1. **μ• λ‹λ©”μ΄μ…/μΈν„°λ™μ… μƒμ„±** (κµ¬ Step4 λ΅μ§)
   - AI νΈμ¶ν•μ—¬ `animationDescription`, `interactionDescription` μƒμ„±

2. **μµμΆ… ν”„λ΅¬ν”„νΈ μ»΄νμΌ** (κµ¬ Step5 λ΅μ§)
   - λ¨λ“  λ°μ΄ν„°λ¥Ό ν†µν•©ν•μ—¬ `htmlPrompt` μƒμ„±

#### **μ¶λ ¥**
```typescript
interface IntegratedStep4Result {
  // μµμΆ… ν”„λ΅¬ν”„νΈ (μ£Όμ” κ²°κ³Όλ¬Ό)
  htmlPrompt: string;

  // μƒμ„±λ μ• λ‹λ©”μ΄μ…/μΈν„°λ™μ… (μ¤‘κ°„ κ²°κ³Όλ¬Ό)
  animationDescriptions: Record<number, string>;  // νμ΄μ§€λ³„
  interactionDescriptions: Record<number, string>; // νμ΄μ§€λ³„

  // λ©”νƒ€λ°μ΄ν„°
  generatedAt: Date;
  totalPages: number;
}
```

### **3. UI λ³€κ²½μ‚¬ν•­**

#### **μƒλ΅μ΄ Step4 ν™”λ©΄ κµ¬μ„±**
```
1. μƒλ‹¨: "μµμΆ… λ…μ„Έμ„ μƒμ„±" νƒ€μ΄ν‹€
2. μƒμ„± μ¤‘: ν†µν•© λ΅λ”© (μ• λ‹λ©”μ΄μ… μƒμ„± β†’ ν”„λ΅¬ν”„νΈ μ»΄νμΌ)
3. μ™„λ£ ν›„: Step5μ™€ λ™μΌν• UI (ν”„λ΅¬ν”„νΈ λ―Έλ¦¬λ³΄κΈ° + λ³µμ‚¬)
```

#### **λ΅λ”© λ‹¨κ³„**
```
Phase 1: μ• λ‹λ©”μ΄μ…/μΈν„°λ™μ… λ””μμΈ (30%)
Phase 2: μµμΆ… ν”„λ΅¬ν”„νΈ μ»΄νμΌ (70%)
Phase 3: μ™„λ£ (100%)
```

---

## π“ νμΌ λ³€κ²½ κ³„ν

### **π—‘οΈ μ κ±°ν•  νμΌλ“¤**
```
src/components/workflow/Step4DesignSpecification/
β”β”€β”€ Step4DesignSpecification.tsx     β μ κ±°
β””β”€β”€ index.ts                         β μ κ±°

src/services/
β”β”€β”€ step4-design-specification.service.ts  β μ κ±°

src/types/
β”β”€β”€ step4.types.ts                   β μ κ±° (μΌλ¶€ νƒ€μ…μ€ μ΄λ™)
```

### **π“ μμ •ν•  νμΌλ“¤**

#### **1. Step5 β†’ μƒλ΅μ΄ Step4λ΅ λ³€ν™**
```
src/components/workflow/Step5FinalPrompt/
β”β”€β”€ Step5FinalPrompt.tsx β†’ Step4IntegratedResult.tsx
β””β”€β”€ index.ts β†’ μ—…λ°μ΄νΈ
```

#### **2. μ›ν¬ν”λ΅μ° μ»¨ν…μ΄λ„**
```
src/components/workflow/WorkflowContainer.tsx
- step4 μƒνƒ μ κ±°
- step3Complete β†’ μ§μ ‘ μƒλ΅μ΄step4λ΅ μ΄λ™
- ν•Έλ“¤λ¬ ν•¨μλ“¤ μμ •
```

#### **3. GNB λ„¤λΉ„κ²μ΄μ…**
```
src/components/common/GNB.tsx
- 5λ‹¨κ³„ β†’ 4λ‹¨κ³„λ΅ μ•„μ΄μ½ μ΅°μ •
- Step4, Step5 μ•„μ΄μ½ ν†µν•©
```

#### **4. νƒ€μ… μ •μ**
```
src/types/workflow.types.ts
- Step4DesignResult μ κ±°
- μƒλ΅μ΄ IntegratedStep4Result μ¶”κ°€
- WorkflowState μ—…λ°μ΄νΈ
```

#### **5. μ„λΉ„μ¤ λ μ΄μ–΄**
```
μƒλ΅ μƒμ„±: src/services/integrated-step4.service.ts
- Step4μ μ• λ‹λ©”μ΄μ… μƒμ„± λ΅μ§ μ΄λ™
- Step5μ ν”„λ΅¬ν”„νΈ μ»΄νμΌ λ΅μ§ μ΄λ™
- ν†µν•© μ„λΉ„μ¤ ν΄λμ¤ μƒμ„±
```

---

## π”§ κµ¬ν„ λ‹¨κ³„

### **Phase 1: μ„λΉ„μ¤ λ μ΄μ–΄ ν†µν•©**
1. β… Step4 μ½”λ“ μ •λ¦¬ (μ™„λ£)
2. π”„ `IntegratedStep4Service` μƒμ„±
3. π”„ μ• λ‹λ©”μ΄μ… μƒμ„± λ΅μ§ μ΄μ‹
4. π”„ ν”„λ΅¬ν”„νΈ μ»΄νμΌ λ΅μ§ μ΄μ‹
5. π”„ ν†µν•© ν…μ¤νΈ

### **Phase 2: μ»΄ν¬λ„νΈ ν†µν•©**
1. π”„ `Step4IntegratedResult.tsx` μƒμ„±
2. π”„ UI μ»΄ν¬λ„νΈ ν†µν•© (λ΅λ”© + κ²°κ³Ό ν‘μ‹)
3. π”„ μƒνƒ κ΄€λ¦¬ λ΅μ§ ν†µν•©

### **Phase 3: μ›ν¬ν”λ΅μ° μ—…λ°μ΄νΈ**
1. π”„ `WorkflowContainer.tsx` μμ •
2. π”„ GNB λ„¤λΉ„κ²μ΄μ… μ—…λ°μ΄νΈ
3. π”„ νƒ€μ… μ •μ μ—…λ°μ΄νΈ

### **Phase 4: μ •λ¦¬ λ° ν…μ¤νΈ**
1. π”„ κµ¬ Step4 νμΌλ“¤ μ κ±°
2. π”„ ν†µν•© ν…μ¤νΈ
3. π”„ λ¬Έμ„ μ—…λ°μ΄νΈ

---

## β οΈ μ£Όμμ‚¬ν•­ λ° μ„ν—μ”μ†

### **λ°μ΄ν„° νΈν™μ„±**
- **κΈ°μ΅΄ μ €μ¥λ μ›ν¬ν”λ΅μ° λ°μ΄ν„°**: λ§μ΄κ·Έλ μ΄μ… λ΅μ§ ν•„μ”
- **Step4 κ²°κ³Όλ¥Ό μ°Έμ΅°ν•λ” μ½”λ“**: λ¨λ‘ μ°Ύμ•„μ„ μμ • ν•„μ”

### **μ‚¬μ©μ κ²½ν—**
- **μ§„ν–‰λ¥  ν‘μ‹**: 2λ‹¨κ³„ ν†µν•©μΌλ΅ μΈν• λ΅λ”© κ²½ν— λ³€κ²½
- **μ—λ¬ μ²λ¦¬**: ν†µν•© κ³Όμ •μ—μ„ λ¶€λ¶„ μ‹¤ν¨ μ‹λ‚λ¦¬μ¤ κ³ λ ¤

### **μ½”λ“ μ•μ •μ„±**
- **Step4 νƒ€μ… μμ΅΄μ„±**: λ‹¤λ¥Έ νμΌμ—μ„ importν•λ” κ³³ λ¨λ‘ μμ •
- **μλ™μ €μ¥ μ‹μ¤ν…**: Step4 λ°μ΄ν„° κµ¬μ΅° λ³€κ²½μ— λ”°λ¥Έ νΈν™μ„±

---

## π“ μμƒ ν¨κ³Ό

### **κΈμ •μ  ν¨κ³Ό**
- **μ‚¬μ©μ κ²½ν—**: λ” μ§κ΄€μ μ΄κ³  λΉ λ¥Έ ν”λ΅μ°
- **μ½”λ“ ν’μ§**: λ¶ν•„μ”ν• λ³µμ΅μ„± μ κ±°
- **μ μ§€λ³΄μ**: λ” λ‹¨μν• μ•„ν‚¤ν…μ²
- **μ„±λ¥**: μ¤‘κ°„ μƒνƒ μ €μ¥ κ°μ†

### **λΉ„μ©**
- **λ§μ΄κ·Έλ μ΄μ… μ‘μ—…**: κΈ°μ΅΄ λ°μ΄ν„° νΈν™μ„± μ‘μ—… ν•„μ”
- **ν…μ¤νΈ**: ν†µν•© ν›„ μ „μ²΄ ν”λ΅μ° μ¬κ²€μ¦ ν•„μ”
- **μ‚¬μ©μ μ μ‘**: κΈ°μ΅΄ μ‚¬μ©μμ ν”λ΅μ° λ³€κ²½ μ μ‘

---

## π― μ„±κ³µ μ§€ν‘

### **κΈ°λ¥μ  μ§€ν‘**
- [ ] Step3 μ™„λ£ ν›„ λ°”λ΅ μµμΆ… ν”„λ΅¬ν”„νΈ μƒμ„±
- [ ] μ• λ‹λ©”μ΄μ…/μΈν„°λ™μ… ν…μ¤νΈ μ •μƒ μƒμ„±
- [ ] μµμΆ… ν”„λ΅¬ν”„νΈ ν’μ§ κΈ°μ΅΄κ³Ό λ™μΌ
- [ ] μλ™μ €μ¥ μ‹μ¤ν… μ •μƒ μ‘λ™

### **μ„±λ¥ μ§€ν‘**
- [ ] μ „μ²΄ ν”λ΅μ° μ™„λ£ μ‹κ°„ λ‹¨μ¶•
- [ ] λ¶ν•„μ”ν• μƒνƒ μ €μ¥ μ κ±°
- [ ] λ©”λ¨λ¦¬ μ‚¬μ©λ‰ κ°μ†

### **μ‚¬μ©μ κ²½ν— μ§€ν‘**
- [ ] λ‹¨κ³„ μ κ°μ†: 5λ‹¨κ³„ β†’ 4λ‹¨κ³„
- [ ] μ¤‘κ°„ λ€κΈ° μ‹κ°„ μ κ±°
- [ ] λ” μ§κ΄€μ μΈ μ§„ν–‰λ¥  ν‘μ‹

---

## λ‹¤μ λ‹¨κ³„

1. **μΉμΈ ν›„**: Phase 1λ¶€ν„° λ‹¨κ³„λ³„ κµ¬ν„ μ‹μ‘
2. **κ° Phase μ™„λ£ μ‹**: κΈ°λ¥ ν…μ¤νΈ λ° κ²€μ¦
3. **μµμΆ… μ™„λ£ μ‹**: μ „μ²΄ ν”λ΅μ° ν†µν•© ν…μ¤νΈ

μ΄ μ„¤κ³„μ„μ— λ€ν• ν”Όλ“λ°±μ΄λ‚ μμ •μ‚¬ν•­μ΄ μμΌλ©΄ λ§μ”€ν•΄ μ£Όμ„Έμ”.